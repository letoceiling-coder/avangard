# –û—Ç—á–µ—Ç –æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–ø–∏—Å–∫–∞ –≥–æ—Ä–æ–¥–æ–≤ –∏–∑ TrendAgent

**–î–∞—Ç–∞:** 29 –¥–µ–∫–∞–±—Ä—è 2025  
**–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:** HTML —Å–ø–∏—Å–æ–∫ –≥–æ—Ä–æ–¥–æ–≤ –∏–∑ TrendAgent API

## üìã –°–ø–∏—Å–æ–∫ –≥–æ—Ä–æ–¥–æ–≤ –∏–∑ TrendAgent

–ù–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–≥–æ HTML —Å–ø–∏—Å–∫–∞ –±—ã–ª–∏ –∏–∑–≤–ª–µ—á–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –≥–æ—Ä–æ–¥–∞ —Å –∏—Ö ObjectId (MongoDB `_id`):

| ObjectId | –ù–∞–∑–≤–∞–Ω–∏–µ | GUID | –°—Ç–∞—Ç—É—Å |
|----------|----------|------|--------|
| `5a5cb42159042faa9a218d04` | –ú–æ—Å–∫–≤–∞ | `msk` | ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω |
| `58c665588b6aa52311afa01b` | –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ | `spb` | ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω |
| `604b5243f9760700074ac345` | –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π, –°–æ—á–∏, –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ê–¥—ã–≥–µ—è | `krasnodar` | ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω |
| `61926fb5bb267a0008de132b` | –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É | `rostov` | ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω |
| `682700dd0e7daf77097d0779` | –ö—Ä—ã–º | `crimea` | ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω (New) |
| `642157fca50429d21e3aa14f` | –ö–∞–∑–∞–Ω—å | `kazan` | ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω |
| `674eff862307c824cf56ced3` | –£—Ñ–∞ | `ufa` | ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω (New) |
| `650974f78d34c0f790a012a9` | –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥ | `ekb` | ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω |
| `618120c1a56997000866c4d8` | –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫ | `nsk` | ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω |

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ì–æ—Ä–æ–¥ `63d10e79a8975354f0d41c80` (–ê–±—É-–î–∞–±–∏, –î—É–±–∞–π, –†–∞—Å-–≠–ª—å-–•–∞–π–º–∞, –®–∞—Ä–¥–∂–∞, –£–º–º-—ç–ª—å-–ö–∞–π–≤–∞–π–Ω, –ê–¥–∂–º–∞–Ω) –Ω–µ –≤–∫–ª—é—á–µ–Ω, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –Ω–µ —Ä–æ—Å—Å–∏–π—Å–∫–∏–π –≥–æ—Ä–æ–¥.

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–æ –≥–æ—Ä–æ–¥–æ–≤: 3

1. **–ö—Ä—ã–º** (`crimea`)
   - `external_id`: `682700dd0e7daf77097d0779`
   - –†–µ–≥–∏–æ–Ω: –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö—Ä—ã–º
   - –°—Ç–∞—Ç—É—Å: New –≤ TrendAgent

2. **–ö–∞–∑–∞–Ω—å** (`kazan`)
   - `external_id`: `642157fca50429d21e3aa14f`
   - –†–µ–≥–∏–æ–Ω: –†–µ—Å–ø—É–±–ª–∏–∫–∞ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω

3. **–£—Ñ–∞** (`ufa`)
   - `external_id`: `674eff862307c824cf56ced3`
   - –†–µ–≥–∏–æ–Ω: –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω
   - –°—Ç–∞—Ç—É—Å: New –≤ TrendAgent

### ‚úèÔ∏è –û–±–Ω–æ–≤–ª–µ–Ω–æ –≥–æ—Ä–æ–¥–æ–≤: 1

1. **–°–æ—á–∏** (`sochi`) ‚Üí **–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π, –°–æ—á–∏, –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ê–¥—ã–≥–µ—è**
   - `external_id`: `604b5243f9760700074ac345` (–æ–±–Ω–æ–≤–ª–µ–Ω)
   - –ò–∑–º–µ–Ω–µ–Ω–∏—è:
     - `name`: "–°–æ—á–∏" ‚Üí "–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π, –°–æ—á–∏, –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ê–¥—ã–≥–µ—è"
   - **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í TrendAgent —ç—Ç–æ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–π —Ä–µ–≥–∏–æ–Ω, –≤–∫–ª—é—á–∞—é—â–∏–π –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –µ–¥–∏–Ω–∏—Ü

### üî¥ –î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ –≥–æ—Ä–æ–¥–æ–≤: 2

–ì–æ—Ä–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ —Å–ø–∏—Å–∫–µ TrendAgent:

1. **–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫** (`krasnoyarsk`)
   - `external_id`: –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª
   - –ü—Ä–∏—á–∏–Ω–∞: –ù–µ—Ç –≤ —Å–ø–∏—Å–∫–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤ TrendAgent

2. **–ë–µ–ª–≥–æ—Ä–æ–¥** (`belgorod`)
   - `external_id`: –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª
   - –ü—Ä–∏—á–∏–Ω–∞: –ù–µ—Ç –≤ —Å–ø–∏—Å–∫–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤ TrendAgent

### ‚è≠Ô∏è –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π: 6 –≥–æ—Ä–æ–¥–æ–≤

–°–ª–µ–¥—É—é—â–∏–µ –≥–æ—Ä–æ–¥–∞ —É–∂–µ –±—ã–ª–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:

1. –ú–æ—Å–∫–≤–∞ (`msk`) - `external_id`: `5a5cb42159042faa9a218d04`
2. –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ (`spb`) - `external_id`: `58c665588b6aa52311afa01b`
3. –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É (`rostov`) - `external_id`: `61926fb5bb267a0008de132b`
4. –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥ (`ekb`) - `external_id`: `650974f78d34c0f790a012a9`
5. –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫ (`nsk`) - `external_id`: `618120c1a56997000866c4d8`

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ external_id –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞

### ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏

**–£ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤ –µ—Å—Ç—å `external_id` (ObjectId) –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞!**

–°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤ —Å –∏—Ö `external_id`:

| –ì–æ—Ä–æ–¥ | GUID | external_id | –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø–∞—Ä—Å–∏–Ω–≥—É |
|-------|------|-------------|----------------------|
| –ú–æ—Å–∫–≤–∞ | `msk` | `5a5cb42159042faa9a218d04` | ‚úÖ –ì–æ—Ç–æ–≤ |
| –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ | `spb` | `58c665588b6aa52311afa01b` | ‚úÖ –ì–æ—Ç–æ–≤ |
| –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π, –°–æ—á–∏, –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ê–¥—ã–≥–µ—è | `krasnodar` | `604b5243f9760700074ac345` | ‚úÖ –ì–æ—Ç–æ–≤ |
| –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É | `rostov` | `61926fb5bb267a0008de132b` | ‚úÖ –ì–æ—Ç–æ–≤ |
| –ö—Ä—ã–º | `crimea` | `682700dd0e7daf77097d0779` | ‚úÖ –ì–æ—Ç–æ–≤ |
| –ö–∞–∑–∞–Ω—å | `kazan` | `642157fca50429d21e3aa14f` | ‚úÖ –ì–æ—Ç–æ–≤ |
| –£—Ñ–∞ | `ufa` | `674eff862307c824cf56ced3` | ‚úÖ –ì–æ—Ç–æ–≤ |
| –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥ | `ekb` | `650974f78d34c0f790a012a9` | ‚úÖ –ì–æ—Ç–æ–≤ |
| –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫ | `nsk` | `618120c1a56997000866c4d8` | ‚úÖ –ì–æ—Ç–æ–≤ |

**–ò—Ç–æ–≥–æ:** 9 –∞–∫—Ç–∏–≤–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤, –≤—Å–µ –∏–º–µ—é—Ç `external_id` ‚úÖ

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ RegionSeeder

–°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π seeder `UpdateCitiesFromTrendAgentSeeder`, –∫–æ—Ç–æ—Ä—ã–π:

1. –û–±–Ω–æ–≤–ª—è–µ—Ç —Å–ø–∏—Å–æ–∫ –≥–æ—Ä–æ–¥–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö TrendAgent
2. –°–æ–∑–¥–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–µ–≥–∏–æ–Ω—ã
3. –î–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –≥–æ—Ä–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ TrendAgent
4. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ `external_id` —É –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
php artisan db:seed --class=UpdateCitiesFromTrendAgentSeeder
```

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. **–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π:** –í TrendAgent —ç—Ç–æ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–π —Ä–µ–≥–∏–æ–Ω "–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π, –°–æ—á–∏, –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ê–¥—ã–≥–µ—è" —Å –æ–¥–Ω–∏–º ObjectId. –í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –∫–∞–∫ –æ–¥–∏–Ω –≥–æ—Ä–æ–¥ —Å —ç—Ç–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º.

2. **–ù–æ–≤—ã–µ –≥–æ—Ä–æ–¥–∞:** –ö—Ä—ã–º –∏ –£—Ñ–∞ –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ "New" –≤ TrendAgent, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–Ω–∏ –Ω–µ–¥–∞–≤–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ —Å–∏—Å—Ç–µ–º—É.

3. **–î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≥–æ—Ä–æ–¥–∞:** –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫ –∏ –ë–µ–ª–≥–æ—Ä–æ–¥ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã, –Ω–æ –Ω–µ —É–¥–∞–ª–µ–Ω—ã –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –ò—Ö –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∑–∂–µ, –µ—Å–ª–∏ –æ–Ω–∏ –ø–æ—è–≤—è—Ç—Å—è –≤ TrendAgent.

4. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–≥–∏–æ–Ω–æ–≤:** –ö–∞–∂–¥—ã–π –≥–æ—Ä–æ–¥ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º—É —Ä–µ–≥–∏–æ–Ω—É (–æ–±–ª–∞—Å—Ç–∏, –∫—Ä–∞—é, —Ä–µ—Å–ø—É–±–ª–∏–∫–µ).

## ‚úÖ –ò—Ç–æ–≥–∏

- ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–æ:** 3 –≥–æ—Ä–æ–¥–∞
- ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 1 –≥–æ—Ä–æ–¥
- ‚úÖ **–î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ:** 2 –≥–æ—Ä–æ–¥–∞
- ‚úÖ **–í—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –≥–æ—Ä–æ–¥–∞ –∏–º–µ—é—Ç external_id –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞**
- ‚úÖ **–°–æ–∑–¥–∞–Ω seeder –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø–∞—Ä—Å–∏–Ω–≥—É –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≤—Å–µ—Ö 9 –∞–∫—Ç–∏–≤–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤ –∏–∑ TrendAgent!


import{_ as g,c as r,a as t,t as o,f as a,g as i,F as m,q as b,h as x,o as d,e as u}from"./admin-Cf5TFX-A.js";const f={name:"ParserDashboard",data(){return{loading:!0,stats:{total:0,activeSchedules:0,recentErrors:0,lastRun:null},recentActivity:[]}},async mounted(){await this.fetchStats()},methods:{async fetchStats(){this.loading=!0;try{this.stats={total:0,activeSchedules:0,recentErrors:0,lastRun:null}}catch(c){console.error("Error fetching stats:",c)}finally{this.loading=!1}}}},p={class:"parser-dashboard-page space-y-6"},_={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},h={class:"bg-card rounded-lg border border-border p-6"},v={class:"text-2xl font-bold text-foreground"},y={class:"bg-card rounded-lg border border-border p-6"},w={class:"text-2xl font-bold text-foreground"},k={class:"bg-card rounded-lg border border-border p-6"},S={class:"text-2xl font-bold text-foreground"},R={class:"bg-card rounded-lg border border-border p-6"},D={class:"text-sm font-medium text-foreground"},E={class:"bg-card rounded-lg border border-border p-6"},A={class:"flex flex-wrap gap-4"},B={class:"bg-card rounded-lg border border-border p-6"},L={key:0,class:"text-center py-8 text-muted-foreground"},N={key:1,class:"text-center py-8 text-muted-foreground"},V={key:2,class:"space-y-2"},j={class:"text-sm font-medium text-foreground"},C={class:"text-xs text-muted-foreground"};function F(c,e,P,T,s,U){const n=x("router-link");return d(),r("div",p,[e[9]||(e[9]=t("div",{class:"mb-6"},[t("h1",{class:"text-3xl font-semibold text-foreground"},"Парсер данных"),t("p",{class:"text-muted-foreground mt-1"},"Управление парсером данных TrendAgent")],-1)),t("div",_,[t("div",h,[e[0]||(e[0]=t("h3",{class:"text-sm font-medium text-muted-foreground mb-2"},"Всего объектов",-1)),t("p",v,o(s.stats.total||0),1)]),t("div",y,[e[1]||(e[1]=t("h3",{class:"text-sm font-medium text-muted-foreground mb-2"},"Активных расписаний",-1)),t("p",w,o(s.stats.activeSchedules||0),1)]),t("div",k,[e[2]||(e[2]=t("h3",{class:"text-sm font-medium text-muted-foreground mb-2"},"Ошибок (24ч)",-1)),t("p",S,o(s.stats.recentErrors||0),1)]),t("div",R,[e[3]||(e[3]=t("h3",{class:"text-sm font-medium text-muted-foreground mb-2"},"Последний запуск",-1)),t("p",D,o(s.stats.lastRun?new Date(s.stats.lastRun).toLocaleString("ru-RU"):"Не запускался"),1)])]),t("div",E,[e[7]||(e[7]=t("h2",{class:"text-lg font-semibold mb-4"},"Быстрые действия",-1)),t("div",A,[a(n,{to:"/admin/parser/objects",class:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors"},{default:i(()=>[...e[4]||(e[4]=[u(" Просмотр объектов ",-1)])]),_:1}),a(n,{to:"/admin/parser/schedules",class:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors"},{default:i(()=>[...e[5]||(e[5]=[u(" Управление расписаниями ",-1)])]),_:1}),a(n,{to:"/admin/parser/errors",class:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors"},{default:i(()=>[...e[6]||(e[6]=[u(" Просмотр ошибок ",-1)])]),_:1})])]),t("div",B,[e[8]||(e[8]=t("h2",{class:"text-lg font-semibold mb-4"},"Последняя активность",-1)),s.loading?(d(),r("div",L," Загрузка... ")):s.recentActivity.length===0?(d(),r("div",N," Нет активности ")):(d(),r("div",V,[(d(!0),r(m,null,b(s.recentActivity,l=>(d(),r("div",{key:l.id,class:"flex items-center justify-between p-3 bg-muted/30 rounded-lg"},[t("div",null,[t("p",j,o(l.message),1),t("p",C,o(new Date(l.created_at).toLocaleString("ru-RU")),1)])]))),128))]))])])}const z=g(f,[["render",F]]);export{z as default};
